<HTML>
<HEAD>
<TITLE>TSP (libtsp) - FLgetRec</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFACD">
<H2>FLgetRec</H2>
<HR>
<H4>Routine</H4>
<DL>
<DT>
char *FLgetRec (FILE *fp, const char CommChar[], const char ContChar[],
int echo)
</DL>
<H4>Purpose</H4>
<DL>
<DT>
Read and assemble a text record from an input stream
</DL>
<H4>Description</H4>
This routine reads lines of text from an input stream.  Comments are removed
and multiple lines with continuation marks are assembled into a single text
record.  Empty lines (all white space) are considered to be comment lines.
<P>
The operations in assembling a text record are as follows.
<DL>
<DT>
 1: Read a line of text
<DT>
 2: Remove any characters from the comment marker to the end of the line
<DT>
 3: Look for a continuation marker as the last character on the line.  For
lines with continuation markers: remove the continuation marker and
concatenate the next line onto the end of the current line.
</DL>
<P>
This routine has provision for echoing the input lines, with or without
comments.  No echoing is done is the input is from a terminal.
<H4>Parameters</H4>
<DL>
<DT>
&lt;-  char *FLgetRec
<DD>
Pointer to the text string.  This is NULL if end-of-file is encountered
and the line is empty.  Otherwise, when end-of-file is encountered, the
line is treated as if it were terminated with a newline.  The text string
is in an internally allocated storage area; each call to this routine
overlays this storage.
<DT>
 -&gt; FILE *fp
<DD>
File pointer for the input stream
<DT>
 -&gt; const char CommChar[]
<DD>
String containing characters that mark the beginning of a comment.  This
string may be empty.
<DT>
 -&gt; const char ContChar[]
<DD>
String containing characters that mark a continuation line.  This string
may be empty.
<DT>
 -&gt; int echo
<DD>
Echo control flag. 0 - No echo, 1 - Echo with comments stripped off,
2, echo with comments intact
<P>
</DL>
<H4>Author / revision</H4>
P. Kabal
/ Revision 1.18  2003/05/09
<H4>See Also</H4>
<A HREF="FLgetLine.html">FLgetLine</A>
<P>
<HR>
Main Index <A HREF="../libtsp.html">libtsp</A>
</BODY>
</HTML>
