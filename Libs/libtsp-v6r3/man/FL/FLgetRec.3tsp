.TH FLgetRec 3tsp "TSP (libtsp/FL)"
.SH Routine
.in +4n
.ti -4n
char *FLgetRec (FILE *fp, const char CommChar[], const char ContChar[],
int echo)
.in -4n
.SH Purpose
.in +4n
.ti -4n
Read and assemble a text record from an input stream
.in -4n
.SH Description
This routine reads lines of text from an input stream.  Comments are removed
and multiple lines with continuation marks are assembled into a single text
record.  Empty lines (all white space) are considered to be comment lines.
.PP
The operations in assembling a text record are as follows.
.in +4n
.ti -4n
 1: Read a line of text
.ti -4n
 2: Remove any characters from the comment marker to the end of the line
.ti -4n
 3: Look for a continuation marker as the last character on the line.  For
lines with continuation markers: remove the continuation marker and
concatenate the next line onto the end of the current line.
.in -4n
.PP
This routine has provision for echoing the input lines, with or without
comments.  No echoing is done is the input is from a terminal.
.SH Parameters
.in +4n
.ti -4n
<-  char *FLgetRec
.br
Pointer to the text string.  This is NULL if end-of-file is encountered
and the line is empty.  Otherwise, when end-of-file is encountered, the
line is treated as if it were terminated with a newline.  The text string
is in an internally allocated storage area; each call to this routine
overlays this storage.
.ti -4n
 -> FILE *fp
.br
File pointer for the input stream
.ti -4n
 -> const char CommChar[]
.br
String containing characters that mark the beginning of a comment.  This
string may be empty.
.ti -4n
 -> const char ContChar[]
.br
String containing characters that mark a continuation line.  This string
may be empty.
.ti -4n
 -> int echo
.br
Echo control flag. 0 - No echo, 1 - Echo with comments stripped off,
2, echo with comments intact
.PP
.in -4n
.SH Author / revision
P. Kabal
/ Revision 1.18  2003/05/09
.SH See Also
FLgetLine,
libtsp
